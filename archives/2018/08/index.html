
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Chen Rui&#39;s Blog">
    <title>归档: 2018/8 - Chen Rui&#39;s Blog</title>
    <meta name="author" content="">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Chen Rui&#39;s Blog">
<meta property="og:url" content="https://crotoc.github.io/archives/2018/08/index.html">
<meta property="og:site_name" content="Chen Rui&#39;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chen Rui&#39;s Blog">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Chen Rui&#39;s Blog</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="首页">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="分类">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="标签">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="归档">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="搜索">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="关于">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google Plus">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google Plus</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/mailto" title="邮箱">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/08/10/gnu-join/">
                            Gnu join - join two files by specified field
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-08-10T12:36:45+08:00">
	
		    8月 10, 2018
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="How-to-join-multiple-files-using-GNU-join"><a href="#How-to-join-multiple-files-using-GNU-join" class="headerlink" title="How to join multiple files using GNU join"></a>How to join multiple files using GNU join</h1><h2 id="Basic-usage"><a href="#Basic-usage" class="headerlink" title="Basic usage"></a>Basic usage</h2><p>Create two files with <em>TAB</em> delimiter</p>
<p>file1:</p>
<pre><code>a    1
b   1
d       1
e       1
g       1
</code></pre><p>file2:</p>
<pre><code>a   2
b   2
c   2
e   2
f   2
</code></pre><p>Join them use join:</p>
<pre><code>join -1 1 -2 1 file1 file2
</code></pre><p>Output:</p>
<pre><code>a 1 2
d 1 2
e 1 2
</code></pre><h2 id="The-very-useful-options-for-GNU-join"><a href="#The-very-useful-options-for-GNU-join" class="headerlink" title="The very useful options for GNU join"></a>The very useful options for GNU join</h2><h3 id="a1-print-unmatched-lines-in-file1"><a href="#a1-print-unmatched-lines-in-file1" class="headerlink" title="-a1 - print unmatched lines in file1;"></a>-a1 - print unmatched lines in file1;</h3><pre><code>join -1 1 -1 1 file1 file2 -a1
</code></pre><p>Output:</p>
<pre><code>a 1 2
b 1
d 1 2
e 1 2
g 1
</code></pre><h3 id="a2-print-unmatched-lines-in-file2"><a href="#a2-print-unmatched-lines-in-file2" class="headerlink" title="-a2 - print unmatched lines in file2"></a>-a2 - print unmatched lines in file2</h3><pre><code>join -1 1 -1 1 file1 file2 -a2
</code></pre><p>Output:</p>
<pre><code>a 1 2
c 2
d 1 2
e 1 2
f 2
</code></pre><h3 id="a1-a2-print-unmatched-lines-in-both-file1-and-file2"><a href="#a1-a2-print-unmatched-lines-in-both-file1-and-file2" class="headerlink" title="-a1 -a2 - print unmatched lines in both file1 and file2"></a>-a1 -a2 - print unmatched lines in both file1 and file2</h3><pre><code>join  -1 1 -1 1 file1 file2 -a1 -a2
</code></pre><p>Output:</p>
<pre><code>a 1 2
b 1
c 2
d 1 2
e 1 2
f 2
g 1
</code></pre><p><em>Be careful that tab is not aligned well.</em></p>
<h3 id="o-To-align-the-output-in-table-format-use-the-option-to-custome-the-output"><a href="#o-To-align-the-output-in-table-format-use-the-option-to-custome-the-output" class="headerlink" title="-o - To align the output in table format, use the option to custome the output"></a>-o - To align the output in table format, use the option to custome the output</h3><pre><code>join  -1 1 -1 1 file1 file2 -a1 -a2 -o 0,1.2,2.2
</code></pre><p><em>0</em>  means the joined column.<br><em>1.2</em> means print the column 2 in file1;<br><em>2.2</em> means print the column 2 in file2;</p>
<p>Output:</p>
<pre><code>a 1 2
b 1 
c  2
d 1 2
e 1 2
f  2
g 1 
</code></pre><p>If file1 and files have more than 2 columns, modify the -o string</p>
<h3 id="t-To-use-the-TAB-as-output-delimiter"><a href="#t-To-use-the-TAB-as-output-delimiter" class="headerlink" title="-t - To use the TAB as output delimiter"></a>-t - To use the <em>TAB</em> as output delimiter</h3><pre><code>join  -1 1 -1 1 file1 file2 -a1 -a2 -o 0,1.2,2.2 -t$&apos;\t&apos;
</code></pre><p>Output:</p>
<pre><code>a       1       2
b       1
c               2
d       1       2
e       1       2
f               2
g       1
</code></pre><h3 id="–check-order-join-requires-the-input-file-sorted-if-join-with-1st-column-please-sort-the-input-files-using-1st-columns-before-use-join-And-to-make-sure-there-is-no-problem-use-this-option-to-check"><a href="#–check-order-join-requires-the-input-file-sorted-if-join-with-1st-column-please-sort-the-input-files-using-1st-columns-before-use-join-And-to-make-sure-there-is-no-problem-use-this-option-to-check" class="headerlink" title="–check-order -  join requires the input file sorted, if join with 1st column, please sort the input files using 1st columns before use join. And to make sure there is no problem, use this option to check."></a>–check-order -  join requires the input file sorted, if join with 1st column, please sort the input files using 1st columns before use join. And to make sure there is no problem, use this option to check.</h3><pre><code>join  -1 1 -1 1 file1 file2 -a1 -a2 -o 0,1.2,2.2 -t$&apos;\t&apos; --check-order
</code></pre><p>Output:</p>
<pre><code>a       1       2
b       1
c               2
d       1       2
e       1       2
f               2
g       1
</code></pre><p>Create non-sorted file3:</p>
<pre><code>a       3
d       3
c       3
e       3
f       3
</code></pre><p>join file1 and file3:</p>
<pre><code>join  -1 1 -1 1 file1 file3 -a1 -a2 -o 0,1.2,2.2 -t$&apos;\t&apos; --check-order
</code></pre><p>Output with error message:</p>
<pre><code>a       1       3
b       1
join: file3:3: is not sorted: c 3
</code></pre><h3 id="e-To-make-the-output-format-more-strict-and-use-this-option-to-fill-missing-columns-This-helps-greatly-if-you-need-to-process-the-file-in-the-downstreaming-analysis"><a href="#e-To-make-the-output-format-more-strict-and-use-this-option-to-fill-missing-columns-This-helps-greatly-if-you-need-to-process-the-file-in-the-downstreaming-analysis" class="headerlink" title="-e -  To make the output format more strict and use this option to fill missing columns. This helps greatly if you need to process the file in the downstreaming analysis."></a>-e -  To make the output format more strict and use this option to fill missing columns. This helps greatly if you need to process the file in the downstreaming analysis.</h3><pre><code>join  -1 1 -1 1 file1 file2 -a1 -a2 -o 0,1.2,2.2 -t$&apos;\t&apos; --check-order -eNULL
</code></pre><p>Output:</p>
<pre><code>a       1       2
b       1       NULL
c       NULL    2
d       1       2
e       1       2
f       NULL    2
g       1       NULL
</code></pre><p>Output is a very tidy table.</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/08/10/gnu-join/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2018/08/09/travis-test/">
                            travis_test
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2018-08-09T15:56:14+08:00">
	
		    8月 09, 2018
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>This artile is auto deployed by travis! Test!</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2018/08/09/travis-test/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">第 1 页 共 1 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 null. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name"></h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
