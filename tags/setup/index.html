
<!DOCTYPE html>
<html lang="">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Chen Rui&#39;s Blog">
    <title>Tag: setup - Chen Rui&#39;s Blog</title>
    <meta name="author" content="">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Chen Rui&#39;s Blog">
<meta property="og:url" content="https://crotoc.github.io/tags/setup/index.html">
<meta property="og:site_name" content="Chen Rui&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chen Rui&#39;s Blog">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Chen Rui&#39;s Blog</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="Home">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="Categorie">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categorie</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="Tags">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="Archivio">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archivio</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="Ricerca">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Ricerca</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="About">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google Plus">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google Plus</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/mailto" title="Mail">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/01/22/terminal-in-windows-sub-linux-system/">
                            Windows 10下面最好的terminal (WSL)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-01-22T10:16:24-06:00">
	
		    22 Jan 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="Windows-10下面最好的terminal-WSL"><a href="#Windows-10下面最好的terminal-WSL" class="headerlink" title="Windows 10下面最好的terminal (WSL)"></a>Windows 10下面最好的terminal (WSL)</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>我主要的工作都在linux的服务器上,所以有个好用的终端非常重要.我使用过的终端非常多,包括了最简单的putty,稍微复杂一些的cygwin,然后是基于cmder的Conmu.他们各有个的优点:</p>
<ol>
<li>Putty贵在简单,只要能连上服务器就行,但是问题在于有的时候没有服务器我没法运行linux命令.</li>
<li>cygwin是个很好的windows下面的linux系统,也有很多的插件可以开发,但是终端实在太难看了.我尝试过使用mintty作为前端,但是用过一两年之后还是弃用了,因为它对linux的原生命令支持的不好.</li>
<li>ConEmu是我最满意的终端系统之一,但是后来出现了一个bug毁掉一切.那就是连到服务器上的时候,我使用emacs的分屏功能,中间的分隔会是不是的抽风,将一切变成乱码.作为一个常年使用emacs的人,这也是接受不能.</li>
<li>其他.</li>
</ol>
<p>后来Windows 10系统集成了Windows sublinux系统实在太符合我的胃口了.作为一个使用过ubuntu系统作为主系统的人,简直对在windows上面运行ubuntu的诱惑无法抵御,于是我掉坑里了.</p>
<h2 id="安装WSL"><a href="#安装WSL" class="headerlink" title="安装WSL"></a>安装WSL</h2><p>这不是重点,贴个链接在此.<a href="https://www.cnblogs.com/JettTang/p/8186315.html" target="_blank" rel="noopener">WSL的安装和使用</a></p>
<h2 id="安装X-windows"><a href="#安装X-windows" class="headerlink" title="安装X windows"></a>安装X windows</h2><p>WSL可以使用windows的powershell,但是对于这个终端我实在无爱,所以后来我选中了ubuntu的里面的原生linux终端terminator.那么首要的问题是如何在windows上面运行x windows的应用.这里有两个选择,一个是<a href="https://sourceforge.net/projects/vcxsrv/" target="_blank" rel="noopener">VcXsrv</a>,一个是<a href="https://sourceforge.net/projects/xming/" target="_blank" rel="noopener">Xming</a>. </p>
<p>我选择了XcXsrv, 大体步骤就是下载安装文件安装,这里不详述.</p>
<h2 id="配置terminator"><a href="#配置terminator" class="headerlink" title="配置terminator"></a>配置terminator</h2><p>安装了xwindows之后就可以打开WSL,安装terminator:</p>
<pre><code>sudo apt-get install terminator
</code></pre><h2 id="命令行启动"><a href="#命令行启动" class="headerlink" title="命令行启动"></a>命令行启动</h2><p>打开命令行工具,然后输入下面命令:</p>
<pre><code>bash -c -l &quot;DISPLAY=:0 terminator &amp;&quot;
</code></pre><h2 id="快捷方式启动"><a href="#快捷方式启动" class="headerlink" title="快捷方式启动"></a>快捷方式启动</h2><p>为了让terminator看起来像个程序一样启动,还需要一些其他的工作.</p>
<p>首先在ubuntu里面写一个脚本叫做<a href="./terminal-in-windows-sub-linux-system/terminator.sh">terminator.sh</a>.这个脚本主要为了实现自动检测打开x window服务器:</p>
<pre><code>#!/bin/sh
cd ~

## 检查windows系统当前的进程里面是否有vcxsrv.exe.如果有代表x windows已经开启,如果没有则开启
x=`/mnt/c/Windows/System32/tasklist.exe /FI &quot;IMAGENAME eq vcxsrv.exe&quot; | grep vcxsrv.exe`;

if [[ ! \$x ]];then

&quot;/mnt/c/Program Files/VcXsrv/vcxsrv.exe&quot; :0 -ac -terminate -lesspointer -multiwindow -clipboard -wgl -dpi auto 2&gt; /dev/null &amp; 
fi
##将x windows的显示定在本地.
export DISPLAY=:0.0

##启动 terminator
terminator
</code></pre><p>然后在windows下面边写一个快捷方式脚本<a href="./terminal-in-windows-sub-linux-system/startTerminator.vbs">startTerminator,vbs</a>,这个脚本主要用于实现建立快捷方式打开terminator:</p>
<pre><code>&apos; 将运行服务器上的terminator.sh脚本存成一个参数变量
args = &quot;-c&quot; &amp; &quot; -l &quot; &amp; &quot;&quot;&quot;bash ~/SHscript/terminator.sh&quot;&quot;&quot;


&apos; windows自动运行脚本，用上面的arg作为参数
WScript.CreateObject(&quot;Shell.Application&quot;).ShellExecute &quot;bash&quot;, args, &quot;&quot;, &quot;open&quot;, 0
</code></pre><p>然后在桌面建立一个快捷方式,在目标里面写上C:\Users\chenr6\Downloads\startTerminator.vbs,图标改成自己喜欢的样子.双击就可以打开了.</p>
<h1 id="如何使用中文输入法"><a href="#如何使用中文输入法" class="headerlink" title="如何使用中文输入法"></a>如何使用中文输入法</h1><p>首先我选择搜狗输入法,因为我想使用双拼,而且我在windows下面的输入法就是搜狗.</p>
<h2 id="安装fcitx框架"><a href="#安装fcitx框架" class="headerlink" title="安装fcitx框架"></a>安装fcitx框架</h2><p>搜狗输入法的linux版本输入法需要fcitx框架,所以首先安装框架:</p>
<pre><code>sudo apt-get update
sudo apt-get install fcitx
sudo apt-get install fcitx-config-gtk
sudo apt-get install fcitx-table-all
sudo apt-get install im-switch
</code></pre><p>然后下载<a href="https://pinyin.sogou.com/linux/?r=pinyin" target="_blank" rel="noopener">搜狗linux最新版deb包</a>,并且安装:</p>
<pre><code>sudo dpkg -i sogouxxx.deb
</code></pre><p>如果需要输入法设置软件的界面中文,生成中文locale:</p>
<pre><code>sudo locale-gen zh_CN.UTF-8
</code></pre><p>将下列</p>
<p>在wsl的.bashrc文件中加入下面的设置:</p>
<pre><code>export XMODIFIERS=@im=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx

if [ \$(ps -ax | grep dbus-daemon | wc -l) -eq 1 ]; then
    eval &apos;dbus-launch &gt; /dev/null 2&gt;&amp;1&apos;
fi
</code></pre><p>打开fcitx设置程序:</p>
<pre><code>fcitx-configtool
</code></pre><p>在里面加入搜狗拼音,并且最好将全局设置中的输入法热键修改一下.重新打开wsl,愉快的使用吧</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.ropnop.com/configuring-a-pretty-and-usable-terminal-emulator-for-wsl/" target="_blank" rel="noopener">terminator参考</a></p>
<p><a href="https://pinyin.sogou.com/linux/?r=pinyin" target="_blank" rel="noopener">搜狗输入法参考</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/01/22/terminal-in-windows-sub-linux-system/#post-footer" class="postShorten-excerpt_link link">
                                Commenta e condividi
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">pagina 1 di 1</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 null. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name"></h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
