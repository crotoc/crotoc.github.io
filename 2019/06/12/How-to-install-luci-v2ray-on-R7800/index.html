
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Chen Rui&#39;s Blog">
    <title>如何在openwrt中安装luci-v2ray - Chen Rui&#39;s Blog</title>
    <meta name="author" content="">
    
        <meta name="keywords" content="openwrt">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":null,"sameAs":["https://github.com/crotoc?tab=repositories","mailto:crotoc@gmail.com"],"image":"https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg"},"articleBody":"\n如何在openwrt中安装luci-v2ray\n如何在openwrt 18.06.1中安装v2ray服务器和luci-v2ray这个项目是基于coolsnowwolf/lede项目，从中间提取了相关依赖包。针对海外党做了如下的改动：\n\n在luci中添加了修改用户自定义unbluck-youku列表的设置。\n针对一些app中不使用域名进行解析的问题，将自定义的列表分成域名和ip两部分。\n其中域名部分可以只使用用户自定义的列表，也可以下载网上的列表与自己的列表合并。网上的列表提取子coolsnowwolf/lede项目中的ipset-lists包。\nip部分使用ipset add命令添加。\n添加了重启，启动，停止的按钮，方便使用\n\n水平有限，大家随意\n要求\n一个安装openwrt的路由\n一颗折腾的心\n\nCompile下载sdk并且解压缩SDK可以用于制作openwrt可以使用的ipk包，每种路由器根据不同核心需要下载不同的sdk包，我的路由器是R7800,所以去openwrt下载了对应的sdk,即ipq806x的sdk：\nwget https://downloads.openwrt.org/releases/18.06.1/targets/ipq806x/generic/openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64.tar.xz\ntar xf openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64.tar.xz\n下载luci到sdk目录下的package文件夹git clone https://github.com/crotoc/luci-app-v2ray.git\ncd openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64\ncp -R ../luci-app-v2ray/* package/\nrm -rf package/luci-app-v2ray-pro/\ncp -R ~/git_project/luci-app-v2ray/luci-app-v2ray-pro/ package/\n更新sdk需要的安装包./script/feeds update -a\n安装依赖包./scripts/feeds install iptables-mod-tproxy kmod-ipt-tproxy ip ipset-lists pdnsd-alt coreutils coreutils-base64 coreutils-nohup dnsmasq-full v2ray ca-certificates lua-cjson luci-base\n制作ipk包make package/luci-app-v2ray-pro/{down,compile} -j8\n生成的ipk文件会存放在./bin/packages/arm_cortex-a15_neon-vfpv4/base/中.\n重新制作如果修改部分代码之后需要重新制作:\nrm -rf package/luci-app-v2ray-pro/\ncp -R ~/git_project/luci-app-v2ray/luci-app-v2ray-pro/ package/\nmake package/luci-app-v2ray-pro/{clean,compile} -j8\n安装将上面的ipset-lists，pdnsd-alt，v2ray和luci-app-v2ray-pro四个ipk文件传到路由器上，除上述四个依赖包意外，其他的依赖包可以直接在服务器上安装：\nopkg install iptables-mod-tproxy kmod-ipt-tproxy ip  coreutils coreutils-base64 coreutils-nohup  v2ray ca-certificates lua-cjson luci-base\n这四个包单独安装:\nopkg install ipset-lists*ipk\nopkg install pdnsd-alt*ipk\nopkg install v2ray*ipk\nopkg install luci-app-v2ray-pro*ipk\n如果安装过程中出现依赖包缺失的情况，就使用opkg安装。\n一些调试安装的过程中还会出现有些包已经存在的情况。例如dnsmasq需要移除才能安装dnsmasq-full。卸载dnsmasq的过程中会出现断网的情况：\n/etc/init.d/dnsmasq stop\nopkg remove dnsmasq\nopkg instlal dnsmasq-full\n如何判断自己成功了（一些debug的技巧）判断v2ray服务是否正确启动通过luci打开v2ray之后，使用下面的命令查看v2ray是否正常启动：\nnetstat -nlp | grep v2ray\n正常情况会看到两个监听的程序，分别对应ipv4和ipv6\n判断正确的加入了iptables转发通过iptables可以查看相关的条目是否添加：\niptables -t nat -L v2ray_pre\n使用myip.ipip.net网站将myip.ipip.net加入到对应列表：如果使用gf，就加入到gf列表，如果使用unblock，就加入到unblock列表，重启服务。然后从客户端中（非路由）运行：\ncurl myip.ipip.net\n如果发现自己的ip变成了代理ip表示成功，这是查看iptables中对应规则，可以看到有包被转发了：\niptables -t nat -L v2ray_pre -vxn\n上面那条命令在路由器上运行是，无论是否成功没法变成代理ip，原因是客户端发出的包通过prerouting链被转进了v2ray_pre链中可以正确的转发，但是路由器自己产生的包没有通过prerouting，所以不能正确别转发。为了在路由器上运行上述命令，我查看了包的路径：\ntcpdump -i eth0.2 &apos;(dst port 80) and (dst 104.24.21.50)&apos;\n发现路由器上使用curl的时候，只能从eth0.2（我的WAN端口）上面抓到相关的包。\n所以我使用了一条新的规则将wan端口到104.24.21.50包转发到v2ray_pre链中：\niptables -t nat -A OUTPUT -d 104.24.21.50 -p tcp -j v2ray_pre\n然后再运行curl，用下面命令查看OUTPUT链的确探测到了包：\niptables -t nat -L OUTPUT -nvx\n而v2ray_pre也能探测到包：\niptables -t nat -L v2ray_pre -vxn\n这样curl命令也返回了代理服务器的ip，成功。\n然后使用下面命令查看刚添加的那一条iptable规则编号并删除，并确认：\niptables -t nat -L OUTPUT --line-numbers\niptables -t nat -L OUTPUT -D 1\niptables -t nat -L OUTPUT -nvx\n注意我刚刚添加的那一条规则在我的路由器OUTPUT链中的编号是1，如果是你们的则可能是其他的数字，千万别删错了。\n参考链接LUCI CBI维基： https://github.com/openwrt/luci/wiki/CBI\nhttps://github.com/seamustuohy/luci_tutorials/blob/master/04-model-cbi.md\nL大的项目：https://github.com/coolsnowwolf/lede/tree/master/package\nhttp://dvblog.soabit.com/building-custom-openwrt-packages-an-hopefully-complete-guide/\nhttps://oldwiki.archive.openwrt.org/doc/howto/obtain.firmware.sdk\niptables原理和用法：https://blog.51cto.com/wushank/1171768","dateCreated":"2019-06-12T16:33:05+08:00","dateModified":"2019-11-02T02:54:27+08:00","datePublished":"2019-06-12T16:33:05+08:00","description":"如何在openwrt中安装luci-v2ray","headline":"如何在openwrt中安装luci-v2ray","image":["https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg","https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/"},"publisher":{"@type":"Organization","name":null,"sameAs":["https://github.com/crotoc?tab=repositories","mailto:crotoc@gmail.com"],"image":"https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg","logo":{"@type":"ImageObject","url":"https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg"}},"url":"https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/","thumbnailUrl":"https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg"}</script>
    <meta name="description" content="如何在openwrt中安装luci-v2ray">
<meta name="keywords" content="openwrt">
<meta property="og:type" content="blog">
<meta property="og:title" content="如何在openwrt中安装luci-v2ray">
<meta property="og:url" content="https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/index.html">
<meta property="og:site_name" content="Chen Rui&#39;s Blog">
<meta property="og:description" content="如何在openwrt中安装luci-v2ray">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2019-11-01T18:54:27.044Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="如何在openwrt中安装luci-v2ray">
<meta name="twitter:description" content="如何在openwrt中安装luci-v2ray">
<meta name="twitter:creator" content="@crnormal">
    
    
        
    
    
        <meta property="og:image" content="https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg"/>
    
    
        <meta property="og:image" content="https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg" />
    
    
        <meta property="og:image" content="https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-136975492-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-136975492-1');
    </script>


    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Chen Rui&#39;s Blog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name"></h4>
                
                    <h5 class="sidebar-profile-bio"><p>一生追寻热爱</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首页"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分类"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="标签"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="归档"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜索"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="关于"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/crotoc?tab=repositories" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="mailto:crotoc@gmail.com" target="_blank" rel="noopener" title="邮箱">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-center
                    post-header-cover--full"
             style="background-image:url('https://www.aqniu.com/wp-content/uploads/2017/07/cybersecurity.jpg');"
             data-behavior="4">
            
                <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            如何在openwrt中安装luci-v2ray
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-06-12T16:33:05+08:00">
	
		    6月 12, 2019
    	
    </time>
    
</div>

    
</div>

            
        </div>

            <div id="main" data-behavior="4"
                 class="hasCover
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt --></p>
<h1 id><a href="#" class="headerlink" title></a><a id="more"></a></h1><h1 id="如何在openwrt中安装luci-v2ray"><a href="#如何在openwrt中安装luci-v2ray" class="headerlink" title="如何在openwrt中安装luci-v2ray"></a>如何在openwrt中安装luci-v2ray</h1><h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如何在openwrt中安装luci-v2ray"><span class="toc-text">如何在openwrt中安装luci-v2ray</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如何在openwrt-18-06-1中安装v2ray服务器和luci-v2ray"><span class="toc-text">如何在openwrt 18.06.1中安装v2ray服务器和luci-v2ray</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#要求"><span class="toc-text">要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compile"><span class="toc-text">Compile</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#下载sdk并且解压缩"><span class="toc-text">下载sdk并且解压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载luci到sdk目录下的package文件夹"><span class="toc-text">下载luci到sdk目录下的package文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更新sdk需要的安装包"><span class="toc-text">更新sdk需要的安装包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装依赖包"><span class="toc-text">安装依赖包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#制作ipk包"><span class="toc-text">制作ipk包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重新制作"><span class="toc-text">重新制作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一些调试"><span class="toc-text">一些调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何判断自己成功了（一些debug的技巧）"><span class="toc-text">如何判断自己成功了（一些debug的技巧）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#判断v2ray服务是否正确启动"><span class="toc-text">判断v2ray服务是否正确启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#判断正确的加入了iptables转发"><span class="toc-text">判断正确的加入了iptables转发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用myip-ipip-net网站"><span class="toc-text">使用myip.ipip.net网站</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考链接"><span class="toc-text">参考链接</span></a></li></ol></li></ol>
<h1 id="如何在openwrt-18-06-1中安装v2ray服务器和luci-v2ray"><a href="#如何在openwrt-18-06-1中安装v2ray服务器和luci-v2ray" class="headerlink" title="如何在openwrt 18.06.1中安装v2ray服务器和luci-v2ray"></a>如何在openwrt 18.06.1中安装v2ray服务器和luci-v2ray</h1><p><a href="https://github.com/crotoc/luci-app-v2ray" target="_blank" rel="noopener">这个项目</a>是基于coolsnowwolf/lede项目，从中间提取了相关依赖包。针对海外党做了如下的改动：</p>
<ol>
<li>在luci中添加了修改用户自定义unbluck-youku列表的设置。</li>
<li>针对一些app中不使用域名进行解析的问题，将自定义的列表分成域名和ip两部分。</li>
<li>其中域名部分可以只使用用户自定义的列表，也可以下载网上的列表与自己的列表合并。网上的列表提取子coolsnowwolf/lede项目中的ipset-lists包。</li>
<li>ip部分使用ipset add命令添加。</li>
<li>添加了重启，启动，停止的按钮，方便使用</li>
</ol>
<p>水平有限，大家随意</p>
<h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><ol>
<li>一个安装openwrt的路由</li>
<li>一颗折腾的心</li>
</ol>
<h2 id="Compile"><a href="#Compile" class="headerlink" title="Compile"></a>Compile</h2><h3 id="下载sdk并且解压缩"><a href="#下载sdk并且解压缩" class="headerlink" title="下载sdk并且解压缩"></a>下载sdk并且解压缩</h3><p>SDK可以用于制作openwrt可以使用的ipk包，每种路由器根据不同核心需要下载不同的sdk包，我的路由器是R7800,所以去openwrt下载了对应的<a href="https://downloads.openwrt.org/releases/18.06.2/targets/" target="_blank" rel="noopener">sdk</a>,即ipq806x的sdk：</p>
<pre><code>wget https://downloads.openwrt.org/releases/18.06.1/targets/ipq806x/generic/openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64.tar.xz
tar xf openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64.tar.xz
</code></pre><h3 id="下载luci到sdk目录下的package文件夹"><a href="#下载luci到sdk目录下的package文件夹" class="headerlink" title="下载luci到sdk目录下的package文件夹"></a>下载luci到sdk目录下的package文件夹</h3><pre><code>git clone https://github.com/crotoc/luci-app-v2ray.git
cd openwrt-sdk-18.06.1-ipq806x_gcc-7.3.0_musl_eabi.Linux-x86_64
cp -R ../luci-app-v2ray/* package/
rm -rf package/luci-app-v2ray-pro/
cp -R ~/git_project/luci-app-v2ray/luci-app-v2ray-pro/ package/
</code></pre><h3 id="更新sdk需要的安装包"><a href="#更新sdk需要的安装包" class="headerlink" title="更新sdk需要的安装包"></a>更新sdk需要的安装包</h3><pre><code>./script/feeds update -a
</code></pre><h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><pre><code>./scripts/feeds install iptables-mod-tproxy kmod-ipt-tproxy ip ipset-lists pdnsd-alt coreutils coreutils-base64 coreutils-nohup dnsmasq-full v2ray ca-certificates lua-cjson luci-base
</code></pre><h3 id="制作ipk包"><a href="#制作ipk包" class="headerlink" title="制作ipk包"></a>制作ipk包</h3><pre><code>make package/luci-app-v2ray-pro/{down,compile} -j8
</code></pre><p>生成的ipk文件会存放在./bin/packages/arm_cortex-a15_neon-vfpv4/base/中.</p>
<h3 id="重新制作"><a href="#重新制作" class="headerlink" title="重新制作"></a>重新制作</h3><p>如果修改部分代码之后需要重新制作:</p>
<pre><code>rm -rf package/luci-app-v2ray-pro/
cp -R ~/git_project/luci-app-v2ray/luci-app-v2ray-pro/ package/
make package/luci-app-v2ray-pro/{clean,compile} -j8
</code></pre><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>将上面的ipset-lists，pdnsd-alt，v2ray和luci-app-v2ray-pro四个ipk文件传到路由器上，除上述四个依赖包意外，其他的依赖包可以直接在服务器上安装：</p>
<pre><code>opkg install iptables-mod-tproxy kmod-ipt-tproxy ip  coreutils coreutils-base64 coreutils-nohup  v2ray ca-certificates lua-cjson luci-base
</code></pre><p>这四个包单独安装:</p>
<pre><code>opkg install ipset-lists*ipk
opkg install pdnsd-alt*ipk
opkg install v2ray*ipk
opkg install luci-app-v2ray-pro*ipk
</code></pre><p>如果安装过程中出现依赖包缺失的情况，就使用opkg安装。</p>
<h2 id="一些调试"><a href="#一些调试" class="headerlink" title="一些调试"></a>一些调试</h2><p>安装的过程中还会出现有些包已经存在的情况。例如dnsmasq需要移除才能安装dnsmasq-full。卸载dnsmasq的过程中会出现断网的情况：</p>
<pre><code>/etc/init.d/dnsmasq stop
opkg remove dnsmasq
opkg instlal dnsmasq-full
</code></pre><h2 id="如何判断自己成功了（一些debug的技巧）"><a href="#如何判断自己成功了（一些debug的技巧）" class="headerlink" title="如何判断自己成功了（一些debug的技巧）"></a>如何判断自己成功了（一些debug的技巧）</h2><h3 id="判断v2ray服务是否正确启动"><a href="#判断v2ray服务是否正确启动" class="headerlink" title="判断v2ray服务是否正确启动"></a>判断v2ray服务是否正确启动</h3><p>通过luci打开v2ray之后，使用下面的命令查看v2ray是否正常启动：</p>
<pre><code>netstat -nlp | grep v2ray
</code></pre><p>正常情况会看到两个监听的程序，分别对应ipv4和ipv6</p>
<h3 id="判断正确的加入了iptables转发"><a href="#判断正确的加入了iptables转发" class="headerlink" title="判断正确的加入了iptables转发"></a>判断正确的加入了iptables转发</h3><p>通过iptables可以查看相关的条目是否添加：</p>
<pre><code>iptables -t nat -L v2ray_pre
</code></pre><h3 id="使用myip-ipip-net网站"><a href="#使用myip-ipip-net网站" class="headerlink" title="使用myip.ipip.net网站"></a>使用myip.ipip.net网站</h3><p>将myip.ipip.net加入到对应列表：如果使用gf，就加入到gf列表，如果使用unblock，就加入到unblock列表，重启服务。然后从客户端中（非路由）运行：</p>
<pre><code>curl myip.ipip.net
</code></pre><p>如果发现自己的ip变成了代理ip表示成功，这是查看iptables中对应规则，可以看到有包被转发了：</p>
<pre><code>iptables -t nat -L v2ray_pre -vxn
</code></pre><p>上面那条命令在路由器上运行是，无论是否成功没法变成代理ip，原因是客户端发出的包通过prerouting链被转进了v2ray_pre链中可以正确的转发，但是路由器自己产生的包没有通过prerouting，所以不能正确别转发。为了在路由器上运行上述命令，我查看了包的路径：</p>
<pre><code>tcpdump -i eth0.2 &apos;(dst port 80) and (dst 104.24.21.50)&apos;
</code></pre><p>发现路由器上使用curl的时候，只能从eth0.2（我的WAN端口）上面抓到相关的包。</p>
<p>所以我使用了一条新的规则将wan端口到104.24.21.50包转发到v2ray_pre链中：</p>
<pre><code>iptables -t nat -A OUTPUT -d 104.24.21.50 -p tcp -j v2ray_pre
</code></pre><p>然后再运行curl，用下面命令查看OUTPUT链的确探测到了包：</p>
<pre><code>iptables -t nat -L OUTPUT -nvx
</code></pre><p>而v2ray_pre也能探测到包：</p>
<pre><code>iptables -t nat -L v2ray_pre -vxn
</code></pre><p>这样curl命令也返回了代理服务器的ip，成功。</p>
<p>然后使用下面命令查看刚添加的那一条iptable规则编号并删除，并确认：</p>
<pre><code>iptables -t nat -L OUTPUT --line-numbers
iptables -t nat -L OUTPUT -D 1
iptables -t nat -L OUTPUT -nvx
</code></pre><p>注意我刚刚添加的那一条规则在我的路由器OUTPUT链中的编号是1，如果是你们的则可能是其他的数字，千万别删错了。</p>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>LUCI CBI维基： <a href="https://github.com/openwrt/luci/wiki/CBI" target="_blank" rel="noopener">https://github.com/openwrt/luci/wiki/CBI</a></p>
<p><a href="https://github.com/seamustuohy/luci_tutorials/blob/master/04-model-cbi.md" target="_blank" rel="noopener">https://github.com/seamustuohy/luci_tutorials/blob/master/04-model-cbi.md</a></p>
<p>L大的项目：<a href="https://github.com/coolsnowwolf/lede/tree/master/package" target="_blank" rel="noopener">https://github.com/coolsnowwolf/lede/tree/master/package</a></p>
<p><a href="http://dvblog.soabit.com/building-custom-openwrt-packages-an-hopefully-complete-guide/" target="_blank" rel="noopener">http://dvblog.soabit.com/building-custom-openwrt-packages-an-hopefully-complete-guide/</a></p>
<p><a href="https://oldwiki.archive.openwrt.org/doc/howto/obtain.firmware.sdk" target="_blank" rel="noopener">https://oldwiki.archive.openwrt.org/doc/howto/obtain.firmware.sdk</a></p>
<p>iptables原理和用法：<a href="https://blog.51cto.com/wushank/1171768" target="_blank" rel="noopener">https://blog.51cto.com/wushank/1171768</a></p>
            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/03/26/Tranquilpeak-How-to-use-gitment-comment-system/" data-tooltip="Tranquilpeak中使用gitment评论系统" aria-label="下一篇: Tranquilpeak中使用gitment评论系统">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Weibo">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/&amp;title=如何在openwrt中安装luci-v2ray" title="分享到 QQ">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#gitment">
                         <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="gitment"></div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 null. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2019/03/26/Tranquilpeak-How-to-use-gitment-comment-system/" data-tooltip="Tranquilpeak中使用gitment评论系统" aria-label="下一篇: Tranquilpeak中使用gitment评论系统">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Weibo">
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/&amp;title=如何在openwrt中安装luci-v2ray" title="分享到 QQ">
                    <i class="fab fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/" title="分享到 Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#gitment">
                         <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/">
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/">
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/">
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>分享到 Google+</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/">
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/&amp;title=如何在openwrt中安装luci-v2ray">
                        <i class="fab fa-qq" aria-hidden="true"></i><span>分享到 QQ</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://crotoc.github.io/2019/06/12/How-to-install-luci-v2ray-on-R7800/">
                        <i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.insidescience.org/sites/default/files/sites/default/files/images/articles/top-images/2018/5_heic1808a_crop.jpg" alt="作者的图片"/>
        
            <h4 id="about-card-name"></h4>
        
            <div id="about-card-bio"><p>一生追寻热爱</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>遗传性，基因组学，生物信息学</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Nashville, TN, U.S.
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">没有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/08/10/gnu-join/">
                            <img class="media-image" src="https://img1.quimg.com/upload/201712/1513834333388.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/08/10/gnu-join/">
                            <h3 class="media-heading">Gnu join - join two files by specified field</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年8月10日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Gnu join - join two files by specified field<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/11/rmarkdown-config/">
                            <img class="media-image" src="http://www.cncd8.com/uploads/allimg/120308/1-12030R10R7.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/11/rmarkdown-config/">
                            <h3 class="media-heading">Setup rmarkdown on server without Rstudio</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年9月11日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Setup rmarkdown on server without Rstudio<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/14/Unblock-Youku-on-a-openWRT-Router/">
                            <img class="media-image" src="https://www.nationalgeographic.com/content/dam/photography/PROOF/2017/April/epic-landscapes/24-9007740_uploadsmember798135yourshot-798135-9007740jpg_ci6qt7qzhqldf4ex35to2j2as7p3eflutfvvbpyjwjhzlmh4iziq_3066x1725.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/14/Unblock-Youku-on-a-openWRT-Router/">
                            <h3 class="media-heading">Unblock Youku on a openWRT Router</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年9月14日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Unblock Youku on a openWRT Router<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/25/Modify-the-hotkey-of-Chinese-English-language-switching-in-Windows-10/">
                            <img class="media-image" src="https://static.boredpanda.com/blog/wp-content/uploads/2015/11/reflection-landscape-photography-jaewoon-u-fb.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/25/Modify-the-hotkey-of-Chinese-English-language-switching-in-Windows-10/">
                            <h3 class="media-heading">Modify the hotkey of Chinese-English language switching in Windows 10</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年9月25日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Modify the hotkey of Chinese-English language switching in Windows 10<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/28/Install-customized-fonts-for-imagemagick/">
                            <img class="media-image" src="https://images.pexels.com/photos/7314/nature-sunset-flowers-silhouette.jpg?auto=compress&amp;cs=tinysrgb&amp;dpr=1&amp;w=500" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2018/09/28/Install-customized-fonts-for-imagemagick/">
                            <h3 class="media-heading">Install customized fonts for imagemagick</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年9月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Install customized fonts for imagemagick<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/01/22/Unblock-region-restriction-of-musics-videos/">
                            <img class="media-image" src="https://store-images.s-microsoft.com/image/apps.6197.13569891971238701.dab36319-31db-42e5-b32b-edb97c11d8b7.b4ec6763-6d93-4369-87b7-81c25913395f?mode=scale&amp;q=90&amp;h=1080&amp;w=1920" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/01/22/Unblock-region-restriction-of-musics-videos/">
                            <h3 class="media-heading">List for unblock region restriction of musics/videos</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年1月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>List for unblock region restriction of musics/videos<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/01/22/terminal-in-windows-sub-linux-system/">
                            <img class="media-image" src="http://img.univs.cn/webfile/event/279/4585308/D5B18660-6B04-11E4-A4B4-E02212B11521/1415863236024_4585308.JPG" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/01/22/terminal-in-windows-sub-linux-system/">
                            <h3 class="media-heading">Windows 10下面最好的terminal (WSL)</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年1月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Windows 10下面最好的terminal (WSL)<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/16/Bugs-when-using-the-tranquilpeak-hexo-theme/">
                            <img class="media-image" src="https://static.photocdn.pt/images/articles/2017_1/iStock-545347988.jpg" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/16/Bugs-when-using-the-tranquilpeak-hexo-theme/">
                            <h3 class="media-heading">Bugs when using the tranquilpeak hexo theme</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年3月16日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Bugs when using the tranquilpeak hexo theme<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/22/How-to-install-v2ray-service-on-R7800/">
                            <img class="media-image" src="https://images.pexels.com/photos/371633/pexels-photo-371633.jpeg?auto=compress&amp;cs=tinysrgb&amp;h=750&amp;w=1260" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/22/How-to-install-v2ray-service-on-R7800/">
                            <h3 class="media-heading">How to install v2ray service on R7800</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年3月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>如何在netgear R7800上面安装v2ray服务<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/26/Tranquilpeak-Setup-algolia-search/">
                            <img class="media-image" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTYi7FGA5FfpekOBRLFsOSCep_sIqCw38lX0HgueXz6shmKqCdl" width="90" height="90"/>
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://crotoc.github.io/2019/03/26/Tranquilpeak-Setup-algolia-search/">
                            <h3 class="media-heading">Tranquilpeak Setup algolia search</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年3月26日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Tranquilpeak Setup algolia search<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="没有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 12 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->

    
        <script type="text/javascript">
            (function() {
                function render() {
                    new Gitment({
                        id: 'Wed Jun 12 2019 16:33:05 GMT+0800',
                        owner: 'crotoc',
                        repo: 'crotoc.github.io',
                        oauth: {
                            client_id: '8949a42af7f682244101',
                            client_secret: '65bb20f6caaa62c4f2bfd335684056ec2f936473',
                        }
                    }).render('gitment');
                }
                var gc = document.createElement('script');
                gc.type = 'text/javascript';
                gc.src = '//jjeejj.github.io/js/gitment.js';
                gc.charset = 'UTF-8';
                gc.onload = render;
                gc.async = true;
                document.querySelector('body').appendChild(gc);
                var gcs = document.createElement('link');
                gcs.href = '//jjeejj.github.io/css/gitment.css';
                gcs.type = 'text/css';
                gcs.rel = 'stylesheet';
                gcs.media = 'screen,print';
                document.querySelector('head').appendChild(gcs);
            })();
	    </script>
    


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('MI05O8RBDD', 'f4469462d3dc48c35cb5b571a9c43404');
        var algoliaIndex = algoliaClient.initIndex('Blog');
    </script>


    </body>
</html>
